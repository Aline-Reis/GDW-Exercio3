<!DOCTYPE html>
<html lang="pt-BR">
<!--
* @description: Acessa o título do segundo livro em um XML com DOMParser
* @author: Aline Reis
* @date: 26/05/2025
-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Exercícios: Manipulação da Estrutura DOM com XML e JavaScript</title>
</head>
<body>
<h1>Acessando o título do segundo livro</h1>
<div id="resultado">
    Verifique o console do navegador (F12) para o resultado.
</div>

<script>
    const xmlString = `
<biblioteca>
    <livro categoria="ficcao">
        <titulo>O Guia do Mochileiro das Galáxias</titulo>
        <autor>Douglas Adams</autor>
    </livro>
    <livro categoria="tecnico">
        <titulo>Introdução ao XML</titulo>
        <autor>Professor Exemplo</autor>
    </livro>
</biblioteca>
`;

    try {
        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(xmlString, "text/xml");

        // Verifica se o XML foi parseado corretamente
        const parserError = xmlDoc.getElementsByTagName("parsererror");
        if (parserError.length > 0) {
            throw new Error("Erro ao fazer parse do XML.");
        }

        // Acessa o segundo <livro>
        const segundoLivro = xmlDoc.querySelectorAll("livro")[1];
        const tituloSegundoLivro = segundoLivro.querySelector("titulo");

        if (tituloSegundoLivro) {
            console.log("Título do segundo livro:", tituloSegundoLivro.textContent);
        } else {
            console.error("Elemento <titulo> não encontrado no segundo livro.");
        }
    } catch (e) {
        console.error("Erro ao processar XML:", e);
    }
</script>
</body>
</html>